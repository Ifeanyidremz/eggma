<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>EvgXchain â€” Live Crypto</title>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800&family=DM+Mono:wght@300;400;500&display=swap" rel="stylesheet"/>
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg: #050505;
      --surface: #0d0d0d;
      --surface2: #141414;
      --surface3: #191919;
      --border: #1f1f1f;
      --border2: #2a2a2a;
      --accent: #22c55e;
      --accent-bright: #4ade80;
      --accent-dark: #16a34a;
      --text: #ffffff;
      --text2: #e5e5e5;
      --muted: #6b6b6b;
      --muted2: #3d3d3d;
      --up: #22c55e;
      --down: #f87171;
      --font-display: 'Syne', sans-serif;
      --font-mono: 'DM Mono', monospace;
    }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: var(--font-display);
      min-height: 100vh;
      overflow-x: hidden;
      background-image:
        radial-gradient(ellipse 70% 35% at 50% -5%, rgba(34,197,94,0.07) 0%, transparent 65%),
        radial-gradient(ellipse 40% 25% at 90% 60%, rgba(34,197,94,0.03) 0%, transparent 60%);
    }

    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");
      pointer-events: none;
      z-index: 9999;
      opacity: 0.55;
    }

    ::-webkit-scrollbar { width: 4px; }
    ::-webkit-scrollbar-track { background: var(--bg); }
    ::-webkit-scrollbar-thumb { background: var(--border2); border-radius: 2px; }

    /* â”€â”€ NAV â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    nav {
      position: sticky; top: 0; z-index: 200;
      background: rgba(5,5,5,0.92);
      backdrop-filter: blur(24px);
      border-bottom: 1px solid var(--border);
      display: flex; align-items: center; justify-content: space-between;
      padding: 0 28px; height: 60px;
    }
    .logo { display:flex; align-items:center; gap:10px; font-size:1.25rem; font-weight:800; letter-spacing:-0.03em; cursor:pointer; text-decoration:none; color:var(--text); }
    .logo-icon { width:32px; height:32px; background:linear-gradient(135deg,var(--accent),var(--accent-bright)); border-radius:8px; display:flex; align-items:center; justify-content:center; font-size:14px; }
    .logo em { font-style:normal; color:var(--accent); }
    .nav-links { display:flex; align-items:center; gap:2px; }
    .nav-link { padding:6px 14px; border-radius:6px; font-size:0.85rem; font-weight:600; color:var(--muted); cursor:pointer; transition:all 0.2s; letter-spacing:0.02em; text-decoration:none; }
    .nav-link:hover { color:var(--text); background:var(--surface2); }
    .nav-link.active { color:var(--accent); background:rgba(34,197,94,0.07); }
    .nav-right { display:flex; align-items:center; gap:12px; }
    .user-chip { display:flex; align-items:center; gap:8px; padding:5px 12px 5px 5px; background:var(--surface); border:1px solid var(--border2); border-radius:30px; cursor:pointer; transition:all 0.2s; }
    .user-chip:hover { border-color:rgba(34,197,94,0.3); }
    .user-avatar { width:28px; height:28px; border-radius:50%; background:linear-gradient(135deg,var(--accent),var(--accent-bright)); display:flex; align-items:center; justify-content:center; font-size:0.7rem; font-weight:800; color:#000; }
    .user-name { font-size:0.82rem; font-weight:700; }

    /* â”€â”€ TICKER TAPE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .ticker-bar {
      background: var(--surface);
      border-bottom: 1px solid var(--border);
      overflow: hidden;
      height: 36px;
      display: flex;
      align-items: center;
      position: relative;
    }
    .ticker-bar::before, .ticker-bar::after {
      content: '';
      position: absolute;
      top: 0; bottom: 0;
      width: 60px;
      z-index: 2;
      pointer-events: none;
    }
    .ticker-bar::before { left:0; background:linear-gradient(90deg,var(--surface),transparent); }
    .ticker-bar::after  { right:0; background:linear-gradient(-90deg,var(--surface),transparent); }

    .ticker-track {
      display: flex;
      gap: 0;
      animation: tickerScroll 40s linear infinite;
      white-space: nowrap;
    }

    @keyframes tickerScroll {
      0%   { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    .ticker-item {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 0 24px;
      font-family: var(--font-mono);
      font-size: 0.72rem;
      border-right: 1px solid var(--border);
      height: 36px;
    }
    .ticker-sym { font-weight:700; color:var(--text2); }
    .ticker-price { color:var(--text); }
    .ticker-chg { font-weight:700; }
    .ticker-chg.up { color:var(--up); }
    .ticker-chg.dn { color:var(--down); }

    /* â”€â”€ PAGE LAYOUT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .page-wrap { max-width:1400px; margin:0 auto; padding:28px 28px 0; }

    /* â”€â”€ PAGE HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .page-header {
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      margin-bottom: 24px;
      flex-wrap: wrap;
      gap: 16px;
    }
    .page-header-left h1 {
      font-size: 1.9rem;
      font-weight: 800;
      letter-spacing: -0.04em;
      margin-bottom: 4px;
    }
    .page-header-left h1 em {
      font-style: normal;
      background: linear-gradient(90deg,var(--accent),var(--accent-bright),#fff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .page-header-left p { font-size:0.82rem; color:var(--muted); }
    .live-pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 5px 12px;
      background: rgba(34,197,94,0.09);
      border: 1px solid rgba(34,197,94,0.22);
      border-radius: 20px;
      font-size: 0.7rem;
      font-weight: 700;
      color: var(--accent);
      letter-spacing: 0.06em;
      text-transform: uppercase;
    }
    .live-dot { width:6px; height:6px; background:var(--accent); border-radius:50%; animation:pulse 1.2s infinite; }
    @keyframes pulse { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:0.3;transform:scale(0.6)} }

    .header-right { display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
    .search-bar {
      display:flex; align-items:center; gap:8px;
      background:var(--surface); border:1px solid var(--border2);
      border-radius:9px; padding:8px 14px; width:220px;
      transition: border-color 0.2s;
    }
    .search-bar:focus-within { border-color:rgba(34,197,94,0.4); }
    .search-bar input { background:none; border:none; outline:none; color:var(--text); font-family:var(--font-display); font-size:0.82rem; width:100%; }
    .search-bar input::placeholder { color:var(--muted); }

    /* â”€â”€ GLOBAL MARKET STATS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .global-strip {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 12px;
      margin-bottom: 24px;
    }
    .gstat {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 11px;
      padding: 16px 18px;
      animation: fadeUp 0.4s ease both;
    }
    .gstat:nth-child(1){animation-delay:.04s} .gstat:nth-child(2){animation-delay:.08s}
    .gstat:nth-child(3){animation-delay:.12s} .gstat:nth-child(4){animation-delay:.16s}
    .gstat:nth-child(5){animation-delay:.20s}
    @keyframes fadeUp { from{opacity:0;transform:translateY(12px)} to{opacity:1;transform:translateY(0)} }

    .gstat-label { font-size:0.62rem; text-transform:uppercase; letter-spacing:0.1em; color:var(--muted); margin-bottom:6px; }
    .gstat-val { font-family:var(--font-mono); font-size:1.15rem; font-weight:500; letter-spacing:-0.03em; margin-bottom:3px; }
    .gstat-val.green { color:var(--up); }
    .gstat-chg { font-size:0.7rem; font-weight:700; }
    .gstat-chg.up { color:var(--up); } .gstat-chg.dn { color:var(--down); }
    .gstat-chg.neu { color:var(--muted); }

    /* â”€â”€ MAIN LAYOUT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .main-layout {
      display: grid;
      grid-template-columns: 1fr 300px;
      gap: 20px;
      align-items: start;
    }

    /* â”€â”€ FEATURED COINS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .section-title {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--muted2);
      font-weight: 700;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .section-title a { color:var(--accent); font-size:0.68rem; text-decoration:none; }

    .featured-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin-bottom: 24px;
    }
    .feat-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 13px;
      padding: 18px;
      cursor: pointer;
      transition: all 0.2s;
      animation: fadeUp 0.4s ease both;
      position: relative;
      overflow: hidden;
    }
    .feat-card::after {
      content: '';
      position: absolute;
      bottom: 0; left: 0; right: 0;
      height: 2px;
      border-radius: 0 0 13px 13px;
      opacity: 0;
      transition: opacity 0.2s;
    }
    .feat-card.up-card::after { background:var(--up); }
    .feat-card.dn-card::after { background:var(--down); }
    .feat-card:hover { border-color:var(--border2); background:var(--surface2); transform:translateY(-2px); box-shadow:0 8px 28px rgba(0,0,0,0.5); }
    .feat-card:hover::after { opacity:1; }
    .feat-card:nth-child(1){animation-delay:.06s} .feat-card:nth-child(2){animation-delay:.1s}
    .feat-card:nth-child(3){animation-delay:.14s} .feat-card:nth-child(4){animation-delay:.18s}
    .feat-card:nth-child(5){animation-delay:.22s} .feat-card:nth-child(6){animation-delay:.26s}

    .fc-top { display:flex; align-items:center; justify-content:space-between; margin-bottom:14px; }
    .fc-coin { display:flex; align-items:center; gap:9px; }
    .fc-icon {
      width:36px; height:36px; border-radius:50%;
      display:flex; align-items:center; justify-content:center;
      font-size:1.1rem; font-weight:800;
      flex-shrink: 0;
    }
    .fc-name { font-size:0.82rem; font-weight:800; }
    .fc-sym { font-size:0.65rem; color:var(--muted); text-transform:uppercase; letter-spacing:0.08em; }
    .fc-badge { padding:3px 8px; border-radius:5px; font-size:0.62rem; font-weight:800; letter-spacing:0.05em; }
    .badge-up { background:rgba(34,197,94,0.12); color:var(--up); border:1px solid rgba(34,197,94,0.2); }
    .badge-dn { background:rgba(248,113,113,0.12); color:var(--down); border:1px solid rgba(248,113,113,0.2); }

    .fc-price { font-family:var(--font-mono); font-size:1.4rem; font-weight:500; letter-spacing:-0.04em; margin-bottom:2px; }
    .fc-chg { font-size:0.72rem; font-weight:700; }
    .fc-chg.up { color:var(--up); } .fc-chg.dn { color:var(--down); }

    /* Sparkline */
    .sparkline { margin-top:12px; }
    .sparkline svg { width:100%; height:44px; }

    /* â”€â”€ FILTER BAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .filter-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 14px;
      flex-wrap: wrap;
      gap: 10px;
    }
    .filter-tabs { display:flex; gap:5px; }
    .ftab {
      padding:5px 13px; border-radius:7px;
      font-size:0.75rem; font-weight:600;
      cursor:pointer; border:1px solid var(--border);
      background:transparent; color:var(--muted);
      transition:all 0.15s; font-family:var(--font-display);
    }
    .ftab:hover { color:var(--text); border-color:var(--border2); }
    .ftab.active { color:var(--accent); border-color:rgba(34,197,94,0.35); background:rgba(34,197,94,0.07); }
    .sort-row { display:flex; align-items:center; gap:8px; font-size:0.75rem; color:var(--muted); }
    .sort-sel {
      background:var(--surface); border:1px solid var(--border2);
      border-radius:6px; color:var(--text); font-family:var(--font-display);
      font-size:0.72rem; padding:5px 10px; outline:none; cursor:pointer;
    }

    /* â”€â”€ CRYPTO TABLE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .crypto-table {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 13px;
      overflow: hidden;
      margin-bottom: 24px;
      animation: fadeUp 0.4s ease 0.2s both;
    }
    .ct-header {
      display: grid;
      grid-template-columns: 40px 2fr 1.2fr 1fr 1fr 1fr 1fr 100px;
      padding: 10px 18px;
      border-bottom: 1px solid var(--border);
      font-size: 0.62rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--muted2);
      font-weight: 700;
    }
    .ct-header .sortable { cursor:pointer; user-select:none; }
    .ct-header .sortable:hover { color:var(--muted); }
    .ct-header .asc::after { content:' â†‘'; color:var(--accent); }
    .ct-header .desc::after { content:' â†“'; color:var(--accent); }

    .ct-row {
      display: grid;
      grid-template-columns: 40px 2fr 1.2fr 1fr 1fr 1fr 1fr 100px;
      padding: 14px 18px;
      border-bottom: 1px solid var(--border);
      align-items: center;
      transition: background 0.15s;
      cursor: pointer;
    }
    .ct-row:last-child { border-bottom: none; }
    .ct-row:hover { background: var(--surface2); }

    .ct-rank { font-family:var(--font-mono); font-size:0.72rem; color:var(--muted2); }
    .ct-coin { display:flex; align-items:center; gap:10px; }
    .ct-icon {
      width:34px; height:34px; border-radius:50%;
      display:flex; align-items:center; justify-content:center;
      font-size:1rem; font-weight:800; flex-shrink:0;
    }
    .ct-coin-name { font-size:0.85rem; font-weight:700; }
    .ct-coin-sym { font-size:0.65rem; color:var(--muted); text-transform:uppercase; letter-spacing:0.08em; margin-top:1px; }
    .ct-price { font-family:var(--font-mono); font-size:0.88rem; font-weight:500; }
    .ct-chg { font-family:var(--font-mono); font-size:0.82rem; font-weight:700; }
    .ct-chg.up { color:var(--up); } .ct-chg.dn { color:var(--down); }
    .ct-vol, .ct-cap, .ct-supply { font-family:var(--font-mono); font-size:0.78rem; color:var(--text2); }
    .ct-spark svg { width:80px; height:32px; }

    /* flash animation for price update */
    @keyframes flashUp { 0%{background:rgba(34,197,94,0.15)} 100%{background:transparent} }
    @keyframes flashDn { 0%{background:rgba(248,113,113,0.12)} 100%{background:transparent} }
    .flash-up { animation:flashUp 0.6s ease; }
    .flash-dn { animation:flashDn 0.6s ease; }

    /* â”€â”€ RIGHT PANEL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .right-col { display:flex; flex-direction:column; gap:16px; }

    /* Dominance Donut */
    .panel-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 13px;
      padding: 18px;
    }
    .panel-label {
      font-size: 0.62rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--muted2);
      font-weight: 700;
      margin-bottom: 14px;
    }

    /* Donut chart */
    .donut-wrap { display:flex; align-items:center; gap:16px; }
    .donut-svg { width:90px; height:90px; flex-shrink:0; }
    .donut-legend { display:flex; flex-direction:column; gap:7px; }
    .dl-item { display:flex; align-items:center; gap:7px; font-size:0.75rem; }
    .dl-dot { width:8px; height:8px; border-radius:50%; flex-shrink:0; }
    .dl-name { color:var(--text2); font-weight:600; min-width:30px; }
    .dl-pct { font-family:var(--font-mono); font-size:0.72rem; color:var(--muted); margin-left:auto; }

    /* Fear & Greed */
    .fg-meter { position:relative; margin:10px 0 16px; }
    .fg-track { height:10px; border-radius:8px; background:linear-gradient(90deg,#f87171,#fb923c,#facc15,#a3e635,#22c55e); }
    .fg-needle {
      position:absolute; top:-5px;
      width:20px; height:20px;
      border-radius:50%;
      background:var(--text);
      border:3px solid var(--bg);
      box-shadow:0 2px 8px rgba(0,0,0,0.5);
      transform:translateX(-50%);
      transition:left 1s ease;
    }
    .fg-labels { display:flex; justify-content:space-between; font-size:0.6rem; color:var(--muted2); margin-top:6px; }
    .fg-value { text-align:center; }
    .fg-number { font-family:var(--font-mono); font-size:2rem; font-weight:500; color:var(--up); letter-spacing:-0.04em; }
    .fg-text { font-size:0.75rem; font-weight:700; color:var(--up); text-transform:uppercase; letter-spacing:0.1em; }

    /* Top Gainers / Losers */
    .gl-tabs { display:flex; border:1px solid var(--border2); border-radius:8px; overflow:hidden; margin-bottom:14px; }
    .gl-tab { flex:1; padding:7px; text-align:center; font-size:0.72rem; font-weight:700; cursor:pointer; color:var(--muted); transition:all 0.2s; }
    .gl-tab.active-up { background:rgba(34,197,94,0.12); color:var(--up); }
    .gl-tab.active-dn { background:rgba(248,113,113,0.12); color:var(--down); }
    .gl-tab:hover { color:var(--text); }

    .gl-item {
      display:flex; align-items:center; gap:9px;
      padding:8px 0; border-bottom:1px solid var(--border);
    }
    .gl-item:last-child { border:none; }
    .gl-icon { width:28px; height:28px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:0.82rem; flex-shrink:0; }
    .gl-info { flex:1; }
    .gl-name { font-size:0.8rem; font-weight:700; }
    .gl-price { font-family:var(--font-mono); font-size:0.68rem; color:var(--muted); }
    .gl-chg { font-family:var(--font-mono); font-size:0.82rem; font-weight:700; }

    /* Trending */
    .trend-item {
      display:flex; align-items:center; gap:10px;
      padding:8px 0; border-bottom:1px solid var(--border);
    }
    .trend-item:last-child { border:none; }
    .trend-rank { font-family:var(--font-mono); font-size:0.68rem; color:var(--muted2); width:16px; }
    .trend-icon { width:26px; height:26px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:0.8rem; flex-shrink:0; }
    .trend-name { font-size:0.78rem; font-weight:700; flex:1; }
    .trend-fire { font-size:0.7rem; }

    /* News Feed */
    .news-item { padding:10px 0; border-bottom:1px solid var(--border); }
    .news-item:last-child { border:none; }
    .news-source { font-size:0.6rem; text-transform:uppercase; letter-spacing:0.1em; color:var(--accent); font-weight:700; margin-bottom:3px; }
    .news-title { font-size:0.78rem; font-weight:600; line-height:1.35; margin-bottom:3px; cursor:pointer; transition:color 0.15s; }
    .news-title:hover { color:var(--accent); }
    .news-time { font-size:0.62rem; color:var(--muted2); font-family:var(--font-mono); }

    /* â”€â”€ FOOTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .site-footer { background:var(--surface); border-top:1px solid var(--border); margin-top:60px; }
    .footer-inner { max-width:1400px; margin:0 auto; padding:52px 40px 28px; }
    .footer-top { display:grid; grid-template-columns:280px 1fr; gap:60px; margin-bottom:40px; }
    .footer-logo { display:flex; align-items:center; gap:10px; font-size:1.2rem; font-weight:800; letter-spacing:-0.03em; margin-bottom:14px; }
    .footer-logo em { font-style:normal; color:var(--accent); }
    .footer-logo-icon { width:30px; height:30px; background:linear-gradient(135deg,var(--accent),var(--accent-bright)); border-radius:8px; display:flex; align-items:center; justify-content:center; font-size:13px; }
    .footer-tagline { font-size:0.8rem; color:var(--muted); line-height:1.65; margin-bottom:20px; }
    .footer-socials { display:flex; gap:8px; flex-wrap:wrap; }
    .social-icon { display:inline-flex; align-items:center; padding:6px 12px; border-radius:7px; background:var(--surface2); border:1px solid var(--border2); color:var(--muted); font-size:0.75rem; font-weight:600; text-decoration:none; transition:all 0.2s; }
    .social-icon:hover { color:var(--text); border-color:rgba(34,197,94,0.35); background:rgba(34,197,94,0.07); }
    .footer-links-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:24px; }
    .footer-col { display:flex; flex-direction:column; gap:10px; }
    .footer-col-title { font-size:0.68rem; text-transform:uppercase; letter-spacing:0.12em; color:var(--text); font-weight:800; margin-bottom:4px; }
    .footer-col a { font-size:0.8rem; color:var(--muted); text-decoration:none; transition:color 0.15s; font-weight:500; }
    .footer-col a:hover { color:var(--accent); }
    .footer-divider { height:1px; background:var(--border); margin-bottom:22px; }
    .footer-bottom { display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:14px; }
    .footer-bottom-left { display:flex; align-items:center; gap:10px; font-size:0.75rem; color:var(--muted); flex-wrap:wrap; }
    .footer-dot { color:var(--muted2); }
    .footer-bottom-right { display:flex; align-items:center; gap:10px; }
    .footer-chain-badge { display:flex; align-items:center; gap:5px; padding:4px 10px; background:var(--surface2); border:1px solid var(--border2); border-radius:6px; font-size:0.68rem; color:var(--muted); font-weight:600; font-family:var(--font-mono); }
    @media(max-width:900px){ .footer-top{grid-template-columns:1fr;gap:32px} .footer-links-grid{grid-template-columns:repeat(2,1fr)} }
    @media(max-width:1100px){ .main-layout{grid-template-columns:1fr} .right-col{display:grid;grid-template-columns:repeat(2,1fr)} }
    @media(max-width:800px){ .featured-grid{grid-template-columns:repeat(2,1fr)} .global-strip{grid-template-columns:repeat(2,1fr)} .ct-header,.ct-row{grid-template-columns:30px 2fr 1fr 1fr 1fr} .ct-spark,.ct-vol,.ct-supply{display:none} }
    @media(max-width:500px){ .featured-grid{grid-template-columns:1fr} }
  </style>
</head>
<body>

<!-- NAV -->
<nav>
  <a class="logo" href="polymarket-clone.html"><div class="logo-icon">â—ˆ</div>Evg<em>X</em>chain</a>
  <div class="nav-links">
    <a class="nav-link" href="markets.html">Markets</a>
    <a class="nav-link active" href="crypto-live.html">Crypto</a>
    <a class="nav-link" href="dashboard.html">Dashboard</a>
    <a class="nav-link" href="referral.html">Referrals</a>
  </div>
  <div class="nav-right">
    <div class="user-chip"><div class="user-avatar">W</div><div class="user-name">whale_42</div></div>
  </div>
</nav>

<!-- TICKER TAPE -->
<div class="ticker-bar">
  <div class="ticker-track" id="tickerTrack"></div>
</div>

<div class="page-wrap">

  <!-- PAGE HEADER -->
  <div class="page-header">
    <div class="page-header-left">
      <h1>Live <em>Crypto</em> Markets</h1>
      <p>Real-time prices Â· Updated every 3 seconds Â· <span id="lastUpdate">â€”</span></p>
    </div>
    <div class="header-right">
      <span class="live-pill"><span class="live-dot"></span>Live</span>
      <div class="search-bar">
        <svg width="13" height="13" fill="none" stroke="#6b6b6b" stroke-width="2" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
        <input id="searchInput" placeholder="Search coinsâ€¦" oninput="filterTable()"/>
      </div>
    </div>
  </div>

  <!-- GLOBAL MARKET STATS -->
  <div class="global-strip">
    <div class="gstat">
      <div class="gstat-label">Global Market Cap</div>
      <div class="gstat-val" id="gMarketCap">$3.24T</div>
      <div class="gstat-chg up" id="gMcChg">â–² +2.14%</div>
    </div>
    <div class="gstat">
      <div class="gstat-label">24h Volume</div>
      <div class="gstat-val">$148.6B</div>
      <div class="gstat-chg up">â–² +8.3%</div>
    </div>
    <div class="gstat">
      <div class="gstat-label">BTC Dominance</div>
      <div class="gstat-val green">54.2%</div>
      <div class="gstat-chg neu">â€” steady</div>
    </div>
    <div class="gstat">
      <div class="gstat-label">ETH Dominance</div>
      <div class="gstat-val">17.1%</div>
      <div class="gstat-chg dn">â–¼ -0.3%</div>
    </div>
    <div class="gstat">
      <div class="gstat-label">Active Coins</div>
      <div class="gstat-val">14,280</div>
      <div class="gstat-chg neu">+12 new today</div>
    </div>
  </div>

  <div class="main-layout">
    <div class="left-col">

      <!-- FEATURED CARDS -->
      <div class="section-title">
        Featured Coins
        <a href="#">View all â†’</a>
      </div>
      <div class="featured-grid" id="featuredGrid"></div>

      <!-- TABLE -->
      <div class="filter-bar">
        <div class="filter-tabs">
          <button class="ftab active" onclick="setFilter('all',this)">All</button>
          <button class="ftab" onclick="setFilter('layer1',this)">Layer 1</button>
          <button class="ftab" onclick="setFilter('defi',this)">DeFi</button>
          <button class="ftab" onclick="setFilter('meme',this)">Meme</button>
          <button class="ftab" onclick="setFilter('ai',this)">AI</button>
        </div>
        <div class="sort-row">
          Sort by
          <select class="sort-sel" onchange="sortTable(this.value)">
            <option value="rank">Rank</option>
            <option value="price">Price</option>
            <option value="chg24h">24h Change</option>
            <option value="marketCap">Market Cap</option>
            <option value="volume">Volume</option>
          </select>
        </div>
      </div>

      <div class="crypto-table">
        <div class="ct-header">
          <div>#</div>
          <div>Coin</div>
          <div>Price</div>
          <div>24h %</div>
          <div>7d %</div>
          <div>Market Cap</div>
          <div>Volume (24h)</div>
          <div>7d Chart</div>
        </div>
        <div id="cryptoTableBody"></div>
      </div>

    </div>

    <!-- RIGHT SIDEBAR -->
    <div class="right-col">

      <!-- DOMINANCE -->
      <div class="panel-card">
        <div class="panel-label">Market Dominance</div>
        <div class="donut-wrap">
          <svg class="donut-svg" viewBox="0 0 90 90">
            <circle cx="45" cy="45" r="35" fill="none" stroke="#1f1f1f" stroke-width="14"/>
            <!-- BTC 54.2% -->
            <circle cx="45" cy="45" r="35" fill="none" stroke="#f7931a" stroke-width="14"
              stroke-dasharray="120 220" stroke-dashoffset="0" stroke-linecap="butt" transform="rotate(-90 45 45)"/>
            <!-- ETH 17.1% -->
            <circle cx="45" cy="45" r="35" fill="none" stroke="#627eea" stroke-width="14"
              stroke-dasharray="37.8 220" stroke-dashoffset="-120" stroke-linecap="butt" transform="rotate(-90 45 45)"/>
            <!-- BNB 3.9% -->
            <circle cx="45" cy="45" r="35" fill="none" stroke="#f0b90b" stroke-width="14"
              stroke-dasharray="8.6 220" stroke-dashoffset="-157.8" stroke-linecap="butt" transform="rotate(-90 45 45)"/>
            <!-- SOL 3.2% -->
            <circle cx="45" cy="45" r="35" fill="none" stroke="#9945ff" stroke-width="14"
              stroke-dasharray="7.1 220" stroke-dashoffset="-166.4" stroke-linecap="butt" transform="rotate(-90 45 45)"/>
            <!-- Others 21.6% -->
            <circle cx="45" cy="45" r="35" fill="none" stroke="#2a2a2a" stroke-width="14"
              stroke-dasharray="47.5 220" stroke-dashoffset="-173.5" stroke-linecap="butt" transform="rotate(-90 45 45)"/>
          </svg>
          <div class="donut-legend">
            <div class="dl-item"><div class="dl-dot" style="background:#f7931a"></div><div class="dl-name">BTC</div><div class="dl-pct">54.2%</div></div>
            <div class="dl-item"><div class="dl-dot" style="background:#627eea"></div><div class="dl-name">ETH</div><div class="dl-pct">17.1%</div></div>
            <div class="dl-item"><div class="dl-dot" style="background:#f0b90b"></div><div class="dl-name">BNB</div><div class="dl-pct">3.9%</div></div>
            <div class="dl-item"><div class="dl-dot" style="background:#9945ff"></div><div class="dl-name">SOL</div><div class="dl-pct">3.2%</div></div>
            <div class="dl-item"><div class="dl-dot" style="background:#2a2a2a"></div><div class="dl-name">Other</div><div class="dl-pct">21.6%</div></div>
          </div>
        </div>
      </div>

      <!-- FEAR & GREED -->
      <div class="panel-card">
        <div class="panel-label">Fear & Greed Index</div>
        <div class="fg-value">
          <div class="fg-number">74</div>
          <div class="fg-text">Greed</div>
        </div>
        <div class="fg-meter">
          <div class="fg-track"></div>
          <div class="fg-needle" style="left:74%"></div>
        </div>
        <div class="fg-labels">
          <span>Fear</span><span>Neutral</span><span>Greed</span>
        </div>
      </div>

      <!-- GAINERS / LOSERS -->
      <div class="panel-card">
        <div class="panel-label" style="margin-bottom:0">Top Movers Â· 24h</div>
        <div class="gl-tabs" style="margin-top:12px">
          <div class="gl-tab active-up" id="glTabUp" onclick="switchGL('up')">ğŸš€ Gainers</div>
          <div class="gl-tab" id="glTabDn" onclick="switchGL('dn')">ğŸ“‰ Losers</div>
        </div>
        <div id="glList"></div>
      </div>

      <!-- TRENDING -->
      <div class="panel-card">
        <div class="panel-label">ğŸ”¥ Trending Now</div>
        <div id="trendingList">
          <div class="trend-item"><div class="trend-rank">1</div><div class="trend-icon" style="background:rgba(247,147,26,0.15)">â‚¿</div><div class="trend-name">Bitcoin</div><div class="trend-fire">ğŸ”¥ğŸ”¥ğŸ”¥</div></div>
          <div class="trend-item"><div class="trend-rank">2</div><div class="trend-icon" style="background:rgba(98,126,234,0.15)">Î</div><div class="trend-name">Ethereum</div><div class="trend-fire">ğŸ”¥ğŸ”¥ğŸ”¥</div></div>
          <div class="trend-item"><div class="trend-rank">3</div><div class="trend-icon" style="background:rgba(153,69,255,0.15)">â—</div><div class="trend-name">Solana</div><div class="trend-fire">ğŸ”¥ğŸ”¥</div></div>
          <div class="trend-item"><div class="trend-rank">4</div><div class="trend-icon" style="background:rgba(22,197,94,0.15)">â–²</div><div class="trend-name">Pepe</div><div class="trend-fire">ğŸ”¥ğŸ”¥</div></div>
          <div class="trend-item"><div class="trend-rank">5</div><div class="trend-icon" style="background:rgba(240,185,11,0.15)">â¬¡</div><div class="trend-name">BNB</div><div class="trend-fire">ğŸ”¥</div></div>
        </div>
      </div>

      <!-- NEWS -->
      <div class="panel-card">
        <div class="panel-label">Latest Crypto News</div>
        <div class="news-item">
          <div class="news-source">CoinDesk</div>
          <div class="news-title">Bitcoin eyes $150k as institutional demand surges ahead of ETF rebalancing</div>
          <div class="news-time">2 min ago</div>
        </div>
        <div class="news-item">
          <div class="news-source">The Block</div>
          <div class="news-title">Ethereum staking yield hits 5.2% as Shanghai upgrade draws more validators</div>
          <div class="news-time">18 min ago</div>
        </div>
        <div class="news-item">
          <div class="news-source">Decrypt</div>
          <div class="news-title">Solana DeFi volume reaches all-time high of $8.4B in single day</div>
          <div class="news-time">45 min ago</div>
        </div>
        <div class="news-item">
          <div class="news-source">Bloomberg</div>
          <div class="news-title">Fed signals rate hold â€” crypto markets rally as dollar weakens</div>
          <div class="news-time">1h ago</div>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- FOOTER -->
<footer class="site-footer">
  <div class="footer-inner">
    <div class="footer-top">
      <div>
        <div class="footer-logo"><div class="footer-logo-icon">â—ˆ</div>Evg<em>X</em>chain</div>
        <p class="footer-tagline">The world's largest prediction market.<br/>Trade on what matters. Win on what you know.</p>
        <div class="footer-socials">
          <a class="social-icon" href="#">ğ•</a><a class="social-icon" href="#">Discord</a>
          <a class="social-icon" href="#">Telegram</a><a class="social-icon" href="#">GitHub</a>
        </div>
      </div>
      <div class="footer-links-grid">
        <div class="footer-col"><div class="footer-col-title">Markets</div><a href="#">All Markets</a><a href="#">Politics</a><a href="#">Crypto</a><a href="#">Sports</a><a href="#">Science</a><a href="#">Finance</a></div>
        <div class="footer-col"><div class="footer-col-title">Platform</div><a href="#">How It Works</a><a href="#">Leaderboard</a><a href="#">Activity Feed</a><a href="#">API Docs</a><a href="#">Smart Contracts</a></div>
        <div class="footer-col"><div class="footer-col-title">Company</div><a href="#">About Us</a><a href="#">Blog</a><a href="#">Careers</a><a href="#">Press Kit</a><a href="#">Contact</a></div>
        <div class="footer-col"><div class="footer-col-title">Legal</div><a href="#">Terms of Service</a><a href="#">Privacy Policy</a><a href="#">Cookie Policy</a><a href="#">Risk Disclaimer</a><a href="#">Compliance</a></div>
      </div>
    </div>
    <div class="footer-divider"></div>
    <div class="footer-bottom">
      <div class="footer-bottom-left">
        <span>Â© 2026 Evgxchain. All rights reserved.</span><span class="footer-dot">Â·</span>
        <span>Built on <strong style="color:var(--accent)">Polygon</strong></span><span class="footer-dot">Â·</span>
        <span>Settled in <strong style="color:var(--accent)">USDC</strong></span>
      </div>
      <div class="footer-bottom-right">
        <div class="footer-chain-badge"><span>â›“</span> Mainnet</div>
        <div class="footer-chain-badge"><span style="color:var(--accent)">â—</span> All Systems Operational</div>
      </div>
    </div>
  </div>
</footer>

<script>
// â”€â”€â”€ COIN DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const COINS = [
  { rank:1,  sym:'BTC',  name:'Bitcoin',       icon:'â‚¿',  color:'#f7931a', bg:'rgba(247,147,26,0.14)',  price:97420,  chg24:-0.82, chg7:+5.41, cap:'$1.93T', vol:'$42.1B', tag:'layer1' },
  { rank:2,  sym:'ETH',  name:'Ethereum',      icon:'Î',  color:'#627eea', bg:'rgba(98,126,234,0.14)', price:3284,   chg24:+2.14, chg7:+8.32, cap:'$394B',  vol:'$18.7B', tag:'layer1' },
  { rank:3,  sym:'BNB',  name:'BNB',           icon:'â¬¡',  color:'#f0b90b', bg:'rgba(240,185,11,0.14)', price:614,    chg24:+0.43, chg7:+3.21, cap:'$89.2B', vol:'$2.1B',  tag:'layer1' },
  { rank:4,  sym:'SOL',  name:'Solana',        icon:'â—',  color:'#9945ff', bg:'rgba(153,69,255,0.14)', price:187.4,  chg24:+4.87, chg7:+14.2, cap:'$86.1B', vol:'$5.8B',  tag:'layer1' },
  { rank:5,  sym:'XRP',  name:'XRP',           icon:'âœ•',  color:'#00aae4', bg:'rgba(0,170,228,0.14)',  price:2.41,   chg24:-1.23, chg7:-3.82, cap:'$138B',  vol:'$7.3B',  tag:'layer1' },
  { rank:6,  sym:'USDC', name:'USD Coin',      icon:'$',  color:'#2775ca', bg:'rgba(39,117,202,0.14)', price:1.00,   chg24:+0.01, chg7:+0.00, cap:'$44.8B', vol:'$9.2B',  tag:'layer1' },
  { rank:7,  sym:'ADA',  name:'Cardano',       icon:'â‚³',  color:'#0033ad', bg:'rgba(0,51,173,0.14)',   price:0.847,  chg24:+1.92, chg7:+6.14, cap:'$29.7B', vol:'$890M',  tag:'layer1' },
  { rank:8,  sym:'AVAX', name:'Avalanche',     icon:'â–²',  color:'#e84142', bg:'rgba(232,65,66,0.14)',  price:32.1,   chg24:+3.41, chg7:+11.8, cap:'$13.3B', vol:'$780M',  tag:'layer1' },
  { rank:9,  sym:'DOGE', name:'Dogecoin',      icon:'Ã',  color:'#c2a633', bg:'rgba(194,166,51,0.14)', price:0.218,  chg24:+6.72, chg7:+18.4, cap:'$32.1B', vol:'$4.1B',  tag:'meme'  },
  { rank:10, sym:'SHIB', name:'Shiba Inu',     icon:'ğŸ•', color:'#ff7043', bg:'rgba(255,112,67,0.14)', price:0.0000182, chg24:+8.14, chg7:+22.1, cap:'$10.7B', vol:'$1.2B', tag:'meme' },
  { rank:11, sym:'LINK', name:'Chainlink',     icon:'â¬¡',  color:'#2a5ada', bg:'rgba(42,90,218,0.14)',  price:18.42,  chg24:-0.54, chg7:+4.3,  cap:'$11.2B', vol:'$620M',  tag:'defi'  },
  { rank:12, sym:'UNI',  name:'Uniswap',       icon:'ğŸ¦„', color:'#ff007a', bg:'rgba(255,0,122,0.14)',  price:12.84,  chg24:+2.31, chg7:+9.1,  cap:'$7.7B',  vol:'$310M',  tag:'defi'  },
  { rank:13, sym:'AAVE', name:'Aave',          icon:'ğŸ‘»', color:'#b6509e', bg:'rgba(182,80,158,0.14)', price:248.3,  chg24:+1.87, chg7:+12.4, cap:'$3.7B',  vol:'$280M',  tag:'defi'  },
  { rank:14, sym:'PEPE', name:'Pepe',          icon:'ğŸ¸', color:'#4caf50', bg:'rgba(76,175,80,0.14)',  price:0.0000142, chg24:+12.4, chg7:+38.2, cap:'$5.9B', vol:'$2.4B', tag:'meme' },
  { rank:15, sym:'FET',  name:'Fetch.ai',      icon:'ğŸ¤–', color:'#1eb4d4', bg:'rgba(30,180,212,0.14)', price:1.84,   chg24:+5.92, chg7:+16.7, cap:'$1.6B',  vol:'$190M',  tag:'ai'    },
  { rank:16, sym:'RNDR', name:'Render',        icon:'âš™ï¸', color:'#e44d26', bg:'rgba(228,77,38,0.14)',  price:8.14,   chg24:+3.72, chg7:+14.2, cap:'$3.4B',  vol:'$210M',  tag:'ai'    },
  { rank:17, sym:'WLD',  name:'Worldcoin',     icon:'ğŸŒ', color:'#8b5cf6', bg:'rgba(139,92,246,0.14)', price:4.82,   chg24:+7.14, chg7:+21.3, cap:'$8.1B',  vol:'$480M',  tag:'ai'    },
  { rank:18, sym:'DOT',  name:'Polkadot',      icon:'â—',  color:'#e6007a', bg:'rgba(230,0,122,0.14)',  price:9.72,   chg24:-1.84, chg7:+2.1,  cap:'$14.2B', vol:'$510M',  tag:'layer1'} ,
  { rank:19, sym:'NEAR', name:'NEAR Protocol', icon:'â“ƒ',  color:'#00ec97', bg:'rgba(0,236,151,0.14)',  price:6.41,   chg24:+4.22, chg7:+9.8,  cap:'$7.1B',  vol:'$390M',  tag:'layer1'},
  { rank:20, sym:'ARB',  name:'Arbitrum',      icon:'â—ˆ',  color:'#28a0f0', bg:'rgba(40,160,240,0.14)', price:0.924,  chg24:-2.14, chg7:-4.1,  cap:'$3.7B',  vol:'$450M',  tag:'layer1'},
];

// â”€â”€â”€ SPARKLINE GENERATOR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function makeSparkline(isUp, color, w=80, h=32) {
  const pts = [];
  let v = 50 + (Math.random()-0.5)*20;
  for(let i=0;i<12;i++){
    v += (Math.random()-0.5)*14 + (isUp ? 1.2 : -1.2);
    v = Math.max(10,Math.min(90,v));
    pts.push(v);
  }
  const scaleX = w/(pts.length-1);
  const scaleY = h/100;
  const path = pts.map((p,i)=> (i===0?'M':'L')+(i*scaleX)+','+(h-p*scaleY)).join(' ');
  const area = path + ` L${(pts.length-1)*scaleX},${h} L0,${h} Z`;
  return `<svg viewBox="0 0 ${w} ${h}" preserveAspectRatio="none">
    <defs><linearGradient id="sg${color.replace('#','')}" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="${color}" stop-opacity="0.25"/>
      <stop offset="100%" stop-color="${color}" stop-opacity="0"/>
    </linearGradient></defs>
    <path d="${area}" fill="url(#sg${color.replace('#','')})" />
    <path d="${path}" fill="none" stroke="${color}" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>`;
}

// â”€â”€â”€ FORMAT PRICE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function fmtPrice(p) {
  if(p >= 10000) return '$'+p.toLocaleString('en-US',{minimumFractionDigits:0,maximumFractionDigits:0});
  if(p >= 1)     return '$'+p.toLocaleString('en-US',{minimumFractionDigits:2,maximumFractionDigits:2});
  if(p >= 0.01)  return '$'+p.toFixed(4);
  return '$'+p.toFixed(8);
}
function fmtChg(c) {
  const sign = c >= 0 ? 'â–² +' : 'â–¼ ';
  return sign + Math.abs(c).toFixed(2) + '%';
}

// â”€â”€â”€ LIVE PRICES (simulated) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let liveData = COINS.map(c=>({...c, livePrice: c.price}));

function jitter(price) {
  const factor = 1 + (Math.random()-0.5) * 0.004;
  return price * factor;
}

// â”€â”€â”€ BUILD TICKER TAPE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function buildTicker() {
  const track = document.getElementById('tickerTrack');
  const items = COINS.slice(0,12).map(c => {
    const up = c.chg24 >= 0;
    return `<div class="ticker-item">
      <span class="ticker-sym">${c.sym}</span>
      <span class="ticker-price" id="tick_${c.sym}">${fmtPrice(c.price)}</span>
      <span class="ticker-chg ${up?'up':'dn'}" id="tickchg_${c.sym}">${fmtChg(c.chg24)}</span>
    </div>`;
  }).join('');
  // duplicate for seamless loop
  track.innerHTML = items + items;
}

// â”€â”€â”€ BUILD FEATURED CARDS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const FEATURED = ['BTC','ETH','SOL','BNB','DOGE','PEPE'];
function buildFeatured() {
  const grid = document.getElementById('featuredGrid');
  grid.innerHTML = FEATURED.map(sym => {
    const c = liveData.find(x=>x.sym===sym);
    const up = c.chg24 >= 0;
    return `<div class="feat-card ${up?'up-card':'dn-card'}">
      <div class="fc-top">
        <div class="fc-coin">
          <div class="fc-icon" style="background:${c.bg};color:${c.color}">${c.icon}</div>
          <div><div class="fc-name">${c.name}</div><div class="fc-sym">${c.sym}</div></div>
        </div>
        <div class="fc-badge ${up?'badge-up':'badge-dn'}">${fmtChg(c.chg24)}</div>
      </div>
      <div class="fc-price" id="feat_${sym}">${fmtPrice(c.livePrice)}</div>
      <div class="fc-chg ${up?'up':'dn'}">${up?'â–²':'â–¼'} ${Math.abs(c.chg7).toFixed(2)}% this week</div>
      <div class="sparkline">${makeSparkline(up, up?'#22c55e':'#f87171')}</div>
    </div>`;
  }).join('');
}

// â”€â”€â”€ BUILD TABLE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let currentFilter = 'all';
let currentSort = 'rank';

function buildTable(filter='all') {
  const tbody = document.getElementById('cryptoTableBody');
  let rows = [...liveData];
  if(filter !== 'all') rows = rows.filter(c=>c.tag===filter);
  const q = document.getElementById('searchInput').value.trim().toLowerCase();
  if(q) rows = rows.filter(c=>c.name.toLowerCase().includes(q)||c.sym.toLowerCase().includes(q));
  // sort
  if(currentSort==='price')    rows.sort((a,b)=>b.livePrice-a.livePrice);
  else if(currentSort==='chg24h') rows.sort((a,b)=>b.chg24-a.chg24);
  else if(currentSort==='marketCap') rows.sort((a,b)=>parseFloat(b.cap)-parseFloat(a.cap));
  else if(currentSort==='volume') rows.sort((a,b)=>parseFloat(b.vol)-parseFloat(a.vol));
  else rows.sort((a,b)=>a.rank-b.rank);

  tbody.innerHTML = rows.map(c => {
    const up24 = c.chg24 >= 0;
    const up7  = c.chg7  >= 0;
    return `<div class="ct-row" id="row_${c.sym}">
      <div class="ct-rank">${c.rank}</div>
      <div class="ct-coin">
        <div class="ct-icon" style="background:${c.bg};color:${c.color}">${c.icon}</div>
        <div><div class="ct-coin-name">${c.name}</div><div class="ct-coin-sym">${c.sym}</div></div>
      </div>
      <div class="ct-price" id="tprice_${c.sym}">${fmtPrice(c.livePrice)}</div>
      <div class="ct-chg ${up24?'up':'dn'}">${fmtChg(c.chg24)}</div>
      <div class="ct-chg ${up7?'up':'dn'}">${fmtChg(c.chg7)}</div>
      <div class="ct-cap">${c.cap}</div>
      <div class="ct-vol">${c.vol}</div>
      <div class="ct-spark">${makeSparkline(up24, up24?'#22c55e':'#f87171')}</div>
    </div>`;
  }).join('');
}

function setFilter(f, btn) {
  currentFilter = f;
  document.querySelectorAll('.ftab').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  buildTable(f);
}
function sortTable(v) { currentSort = v; buildTable(currentFilter); }
function filterTable() { buildTable(currentFilter); }

// â”€â”€â”€ GAINERS / LOSERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let glMode = 'up';
function buildGL() {
  const list = document.getElementById('glList');
  let sorted = [...liveData].sort((a,b)=> glMode==='up'? b.chg24-a.chg24 : a.chg24-b.chg24);
  sorted = sorted.slice(0,5);
  list.innerHTML = sorted.map(c=>{
    const up = c.chg24>=0;
    return `<div class="gl-item">
      <div class="gl-icon" style="background:${c.bg};color:${c.color}">${c.icon}</div>
      <div class="gl-info">
        <div class="gl-name">${c.name}</div>
        <div class="gl-price">${fmtPrice(c.livePrice)}</div>
      </div>
      <div class="gl-chg ${up?'up':'dn'}">${fmtChg(c.chg24)}</div>
    </div>`;
  }).join('');
}
function switchGL(mode) {
  glMode = mode;
  document.getElementById('glTabUp').className = 'gl-tab' + (mode==='up'?' active-up':'');
  document.getElementById('glTabDn').className = 'gl-tab' + (mode==='dn'?' active-dn':'');
  buildGL();
}

// â”€â”€â”€ LIVE PRICE UPDATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function updatePrices() {
  liveData.forEach(c => {
    const prev = c.livePrice;
    c.livePrice = jitter(c.livePrice);
    const up = c.livePrice >= prev;

    // Ticker
    const tickEl = document.getElementById('tick_'+c.sym);
    if(tickEl) tickEl.textContent = fmtPrice(c.livePrice);

    // Featured
    const featEl = document.getElementById('feat_'+c.sym);
    if(featEl) { featEl.textContent = fmtPrice(c.livePrice); }

    // Table row
    const priceEl = document.getElementById('tprice_'+c.sym);
    const rowEl = document.getElementById('row_'+c.sym);
    if(priceEl) {
      priceEl.textContent = fmtPrice(c.livePrice);
      if(rowEl) {
        rowEl.classList.remove('flash-up','flash-dn');
        void rowEl.offsetWidth; // reflow
        rowEl.classList.add(up ? 'flash-up' : 'flash-dn');
      }
    }
  });

  // Timestamp
  const now = new Date();
  document.getElementById('lastUpdate').textContent =
    'Last updated ' + now.toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',second:'2-digit'});
}

// â”€â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
buildTicker();
buildFeatured();
buildTable('all');
buildGL();

// Stagger initial sparklines to look different
setTimeout(buildFeatured, 100);

// Live updates every 3 seconds
setInterval(updatePrices, 3000);

// Nav active
document.querySelectorAll('.nav-link').forEach(l=>{
  l.addEventListener('click',()=>{
    document.querySelectorAll('.nav-link').forEach(x=>x.classList.remove('active'));
    l.classList.add('active');
  });
});
</script>
</body>
</html>